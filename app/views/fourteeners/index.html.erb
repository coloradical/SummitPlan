	<head>
		<%= include_gon(:init => true) %>
	
		
	</head>
		<div id="map"></div>
		<script>
			function initMap() {
			var markers = []; //array of markers
			var castle = {lat: 39.180945, lng:-107.2416232};
			var map = new google.maps.Map(document.getElementById('map'), {
				zoom: 7,
				center: castle,
				mapTypeId: 'hybrid'


			});
			var infowindow = new google.maps.InfoWindow();
			gon.fourteeners.forEach(function(fourteener){
				if (fourteener.surname == "Mount") {
					var full_name = fourteener.surname +" " +fourteener.name;
				} else if (fourteener.surname == "Peak"){
					var full_name = fourteener.name + " " +fourteener.surname;
				} else if (fourteener.surname == "Mount of the "){
					var full_name = fourteener.surname +" "+fourteener.name;
				} else if (fourteener.surname == "Mountain"){
					var full_name = fourteener.name +" " +fourteener.surname;
				} else if (fourteener.surname == "Needle"){
					var full_name = fourteener.name +" " +fourteener.surname;
				} else if (fourteener.surname == "Point"){
					var full_name = fourteener.name +" " +fourteener.surname;
				} else {
					var full_name = fourteener.name;
				}
				var marker = new google.maps.Marker({
					position: {lat: fourteener.location_lat, lng: fourteener.location_long},
					map: map,
					title: full_name,
					surname: fourteener.surname,
					elevation_in_feet: fourteener.elevation_in_feet,
					rank: fourteener.rank,
					location_lat: fourteener.location_lat,
					location_long: fourteener.location_long,
					forest: fourteener.forest,
					range: fourteener.range,
					classification: fourteener.classification,
					exposure: fourteener.exposure,
					elevation_gain_in_feet: fourteener.elevation_gain_in_feet,
					round_trip_distance_in_miles: fourteener.round_trip_distance_in_miles,
					no_4wd_additional_elevation_in_feet: fourteener.no_4wd_additional_elevation_in_feet,
					no_4wd_additional_distance_in_miles: fourteener.no_4wd_additional_distance_in_miles,
					route_name: fourteener.route_name,
					trailhead_name: fourteener.trailhead_name,
					trailhead_lat: fourteener.trailhead_lat,
					trailhead_long: fourteener.trailhead_long,
					four_x_four_required: fourteener.four_x_four_required,
					additional_info_url: fourteener.additional_info_url,
					kml: fourteener.kml
				});
				if (marker.classification < 2) {
					marker.setIcon('http://maps.google.com/mapfiles/ms/icons/green-dot.png');
				} else if (marker.classification < 3) {
					marker.setIcon('http://maps.google.com/mapfiles/ms/icons/blue-dot.png');
				} else if (marker.classification < 4) {
					marker.setIcon('http://maps.google.com/mapfiles/ms/icons/yellow-dot.png');
				} else  {
					marker.setIcon('http://maps.google.com/mapfiles/ms/icons/red-dot.png');
				}
				markers.push(marker); //add marker to array of markers
				var contentString = '<div id="content">'+
				  '<div id="siteNotice">'+
				  '</div>'+
				  '<h1 id="firstHeading" class="firstHeading">'+full_name+'</h1>'+
				  '<div id="bodyContent">'+
				  '<p>Elevation: '+marker.elevation_in_feet+' feet</br>'+
				  'Class: '+marker.classification+'</br>'+
				  'Range: '+marker.range+'</br>'+
				  'Forest: '+marker.forest+'</br>'+
				  'Route name: '+marker.route_name+'</br>'+
				  'Trailhead name: '+marker.trailhead_name+'</br>'+
				  'Round trip distance: '+marker.round_trip_distance_in_miles+' miles</br>'+
				  'Elevation gain: '+marker.elevation_gain_in_feet+' feet</br></p>'+
				  '<p><a href=\"'+marker.additional_info_url+'\">Click here for additional info</a></p>'+
				  '</div>'+
				  '</div>';
				marker.addListener('click', function() {
					map.setZoom(9);
				    map.setCenter(marker.getPosition());
					infowindow.setContent(contentString);
					infowindow.setPosition(marker.getPosition());
					infowindow.open(marker.get('map'), marker);
				});
				});
			}
			//add KML to database
			//jquery ajax 
			//change color or something based on class
			//change link to profile page not fourteeners page 
			//look into one infowindow closes when you open another
		</script>
		<script async defer
		src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBBYkGDkbDQBSWK4WoQM-r8tA5WXkqu_Rw&callback=initMap">
		</script>

		<div id="sidebar">
			
			<h6 style="padding-left: 10px; text-align: center; color: white;"><i> Use sliders and check boxes to find the right peak for you.</i></h6>
	</div>